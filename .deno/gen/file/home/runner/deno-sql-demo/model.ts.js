export class Model {
    db;
    table_name;
    field_list;
    constructor(database, table_name, field_list) {
        this.db = database;
        this.table_name = table_name;
        this.field_list = field_list;
        const sql = `CREATE TABLE IF NOT EXISTS ${this.table_name} ( ${this.describe_fields()} );`;
        console.log(sql);
        this.db.query(sql);
    }
    describe_fields() {
        console.log(this.field_list);
        return this.field_list.map(field => `${field.field_name} ${field.field_type}`).join(", ");
    }
    create(data) {
        const fields = Object.keys(data).join(",");
        const values = Object.values(data).map(v => `'${v}'`).join(",");
        const sql = `INSERT INTO people (${fields}) VALUES (${values})`;
        console.log(sql);
        this.db.query(sql);
    }
    get(where = "") {
        const sql = `SELECT * FROM ${this.table_name} ${where};`;
        console.log(sql);
        return [...this.db.query(sql).asObjects()];
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJtb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQSxNQUFNLE9BQU8sS0FBSztJQUVoQixFQUFFLENBQU07SUFDUixVQUFVLENBQVM7SUFDbkIsVUFBVSxDQUFVO0lBRXBCLFlBQVksUUFBWSxFQUFFLFVBQWlCLEVBQUUsVUFBa0I7UUFDN0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxRQUFRLENBQUM7UUFDbkIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsTUFBTSxHQUFHLEdBQUcsOEJBQThCLElBQUksQ0FBQyxVQUFVLE1BQU0sSUFBSSxDQUFDLGVBQWUsRUFBRSxLQUFLLENBQUM7UUFDM0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBRUQsZUFBZTtRQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzVCLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVGLENBQUM7SUFNRCxNQUFNLENBQUMsSUFBVztRQUNoQixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMzQyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUEsRUFBRSxDQUFBLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFOUQsTUFBTSxHQUFHLEdBQUcsdUJBQXVCLE1BQU0sYUFBYSxNQUFNLEdBQUcsQ0FBQztRQUNoRSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxHQUFHLENBQUMsUUFBYSxFQUFFO1FBQ2pCLE1BQU0sR0FBRyxHQUFHLGlCQUFpQixJQUFJLENBQUMsVUFBVSxJQUFJLEtBQUssR0FBRyxDQUFDO1FBQ3pELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakIsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztJQUM3QyxDQUFDO0NBQ0YifQ==